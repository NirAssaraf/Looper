(this["webpackJsonploop-machine"]=this["webpackJsonploop-machine"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(9),s=n.n(c),r=(n(15),n(16),n(3)),o=n(4),l=n(7),u=n(6),d=n(5),p=n(2),h=(n(17),n(0)),b=function(e){var t=i.a.useState(!1),n=Object(p.a)(t,2),a=n[0],c=n[1];return Object(h.jsx)("button",{variant:"contained",border:"100",className:a?"square off":"square on",onClick:function(){e.onClick(),c(!a)},children:e.value})},j=(n(19),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderSquare",value:function(e){var t=this;return Object(h.jsx)(b,{value:this.props.squares[e].name,onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"container",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3),this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})}}]),n}(i.a.Component)),m=n.p+"static/media/120_future_funk_beats_25.5eb417fc.mp3",y=n.p+"static/media/120_stutter_breakbeats_16.37c82282.mp3",f=n.p+"static/media/Bass Warwick heavy funk groove on E 120 BPM.52c24c81.mp3",O=n.p+"static/media/electric guitar coutry slide 120bpm - B.230fcab8.mp3",v=n.p+"static/media/FUD_120_StompySlosh.27bdc145.mp3",k=n.p+"static/media/GrooveB_120bpm_Tanggu.3e1411b4.mp3",g=n.p+"static/media/MazePolitics_120_Perc.2d08c654.mp3",S=n.p+"static/media/PAS3GROOVE1.03B.f77c6da4.mp3",x=n.p+"static/media/SilentStar_120_Em_OrganSynth.f2d668af.mp3",C=(n(20),n(21),n(10)),N=function(e){var t=i.a.useState(!1),n=Object(p.a)(t,2),a=n[0],c=n[1],s=i.a.useState(!1),r=Object(p.a)(s,2),o=r[0],l=r[1],u=i.a.useState(!1),d=Object(p.a)(u,2),b=d[0],j=d[1],m=i.a.useState("stop-record-btn"),y=Object(p.a)(m,2),f=y[0],O=y[1],v=function(e){e(),j(!b),O(b?"stop-record-btn":"stop-record-btn-noanim")};return Object(h.jsx)("div",{children:Object(h.jsx)(C.ReactMediaRecorder,{screen:!0,render:function(t){t.status;var n=t.pauseRecording,i=t.resumeRecording,s=t.startRecording,r=t.stopRecording,u=t.mediaBlobUrl;return Object(h.jsxs)("div",{className:"record-btn",children:[o?Object(h.jsx)("button",{id:f,onClick:function(){return r(),e.setRope(),c(!0),void(o&&l(!o))},children:Object(h.jsx)("span",{className:"iconify","data-icon":"entypo:controller-record"})}):Object(h.jsx)("button",{id:"start-record-btn",onClick:function(){return s(),void l(!o)},children:Object(h.jsx)("span",{className:"iconify","data-icon":"fluent:record-16-regular"})}),Object(h.jsx)("button",{id:"pause-record-btn",hidden:!o||b,onClick:function(){return v(n)},children:Object(h.jsx)("span",{class:"iconify","data-icon":"emojione-monotone:play-or-pause-button"})}),Object(h.jsx)("button",{id:"resume-record-btn",hidden:!o||!b,onClick:function(){return v(i)},children:Object(h.jsx)("span",{class:"iconify","data-icon":"emojione-monotone:play-or-pause-button"})}),a?Object(h.jsx)("video",{className:"record-video",src:u,width:300,height:300,controls:!0}):""]})}})})},q=(n.p,n(23),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h1",{className:this.props.playing?"title-play":"title",children:"Looper"})})}}]),n}(i.a.Component)),w=(n(24),function(e){var t=Object(a.useState)(!0),n=Object(p.a)(t,2),i=n[0],c=n[1],s=function(){i?(c(!1),e.onPlayClick()):(c(!0),e.onPauseClick())};return Object(h.jsx)("div",{children:i?Object(h.jsx)("a",{className:"play-btn",onClick:s,children:"Play"}):Object(h.jsx)("a",{className:"play-btn is-playing",onClick:s,children:"Play"})})}),P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={rope:!1,history:[{squares:[{clicked:"0",name:"Funk Beats",play:new Audio(m)},{clicked:"0",name:"Stutter Breakbeats",play:new Audio(y)},{clicked:"0",name:"Bass Warwick",play:new Audio(f)},{clicked:"0",name:"Electric Guitar",play:new Audio(O)},{clicked:"0",name:"StompySlosh",play:new Audio(v)},{clicked:"0",name:"Groove",play:new Audio(k)},{clicked:"0",name:"Maze Politics",play:new Audio(g)},{clicked:"0",name:"PAS3GROOVE",play:new Audio(S)},{clicked:"0",name:"Silent Star",play:new Audio(x)}]}],stepNumber:0,playing:!1},a.setRope=a.setRope.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"setRope",value:function(){this.setState({rope:!0})}},{key:"createSession",value:function(e){for(var t=[],n=0,a=0,i=0;i<e.length;i++)e[i].play.currentTime>0&&(n=e[i].play.currentTime,a=e[i].play.duration),"1"===e[i].clicked&&t.push(e[i]);var c=1e3*(a-n);return this.replaySession(t,c)}},{key:"replaySession",value:function(e,t){setTimeout((function(){for(var t=e.slice(),n=0;n<t.length;n++)t[n].play.load(),t[n].play.play().catch((function(e){console.log(e)})),t[n].play.loop=!0}),t)}},{key:"stopSession",value:function(e){for(var t=0;t<e.length;t++)"1"===e[t].clicked&&(e[t].play.pause(),e[t].play.currentTime=0,e[t].play.loop=!0);this.setState({playing:!1})}},{key:"Play",value:function(e,t){var n=this.state.history.slice(0,this.state.stepNumber+1),a=n[n.length-1].squares.slice();this.setState({playing:!0}),this.createSession(a)}},{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();if("1"===n[e].clicked)n[e].play.pause(),n[e].play.currentTime=0,n[e].play.loop=!0;else if(this.state.playing)return n[e].clicked="0"===n[e].clicked?"1":"0",this.setState({history:t.concat([{squares:n}]),stepNumber:t.length}),void this.createSession(n);n[e].clicked="0"===n[e].clicked?"1":"0",this.setState({history:t.concat([{squares:n}]),stepNumber:t.length});var a=!1;for(e=0;e<n.length;e++)if("1"===n[e].clicked)return this.state.playing?void(a=!0):void(a=!1);if(a)return console.log(a),void this.Play(0,0)}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e})}},{key:"render",value:function(){var e=this,t=this.state.history[this.state.stepNumber];return Object(h.jsxs)("div",{className:"App",style:{height:window.screen.height+"px",width:window.screen.width+"px"},children:[Object(h.jsx)(q,{playing:this.state.playing}),Object(h.jsxs)("div",{className:"game",children:[Object(h.jsx)("div",{hidden:!this.state.rope,className:"img-rope"}),Object(h.jsxs)("div",{className:"btn",children:[Object(h.jsx)(w,{flag:this.state.playing,onPlayClick:function(){return e.Play(0,0)},onPauseClick:function(){return e.stopSession(t.squares)}}),Object(h.jsx)(N,{setRope:this.setRope})]}),Object(h.jsx)("div",{className:"game-board",children:Object(h.jsx)(j,{squares:t.squares,onClick:function(t){return e.handleClick(t)}})})]})]})}}]),n}(i.a.Component);var _=function(){return Object(h.jsx)("div",{className:"game",children:Object(h.jsx)(P,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),R()}],[[25,1,2]]]);
//# sourceMappingURL=main.b0099a63.chunk.js.map